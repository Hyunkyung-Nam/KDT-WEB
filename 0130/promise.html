<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            //promise
            // function promise1(flag) {
            //     // flag는 true, false로 쓰임
            //     return new Promise(function (resolve, reject) {
            //         if (flag) {
            //             resolve(`promise상태는 fulfilled!, then으로 연결됩니다. \n 이 때의 flag는 true입니다.`);
            //         } else {
            //             reject('promise상태는 rejected!, catch으로 연결됩니다. \n 이 때의 flag는 false입니다.');
            //         }
            //     });
            // }

            // promise1(true)
            //     .then(function (result) {
            //         //result 혹은 message
            //         console.log(result);
            //     })
            //     .catch(function (error) {
            //         console.log(error);
            //     });

            function goMart() {
                console.log('마트에 가서 어떤 음료를 살 지 고민한다.');
            }
            function pickDrink() {
                //flag로 resolve, reject두개 나눠주지 않아서 안써줘도됨
                return new Promise((resolve, reject) => {
                    setTimeout(function () {
                        console.log('고민끝');
                        product = '쥬스';
                        price = 2000;
                        resolve(); // 메세지나 이런거 필요없으니까 이렇게만 쓰면됨
                    }, 2000);
                });
            }
            function pay() {
                console.log(`상품 : ${product}, 가격 : ${price}`);
            }

            let product, price;

            // goMart();
            // pickDrink().then(() => {
            //     pay();
            // });

            async function exec() {
                goMart();
                await pickDrink();
                pay();
            }
            exec();

            //화살표함수로 쓰고싶다면
            let exec1 = async () => {
                //요로케쓰면된다!
            };
        </script>
    </body>
</html>
